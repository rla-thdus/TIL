# Refactoring
> ### 현재의 기능을 바꾸지 않으면서 코드의 구조를 재조정 시키는 것이다.
> - 보다 적은 비용(시간)을 사용해서 이해하고 수정할 수 있게 변경하는 것이다.
> - 기능의 변화가 있다면 그건 리팩토링이라고 말할 수 없다.

## 리팩토링을 할 때
### 1. 기능 추가가 일어나면 안된다.
기존 기능에서 추가가 생기면 그건 리팩토링이 아니게 된다. 그렇기 때문에 항상 주의해서 해야 한다.

### 2. 동작하는 테스트 코드가 존재해야 한다.
테스트 코드가 존재해야 하는 이유는 리팩토링을 하면서 내가 정말 기능을 바꾸진 않았는지 계속 확인하면서 해야 하기 때문에 동작하는 테스트 코드가 필요하다. 만약 테스트가 없다면 이 코드가 정말 기존과 동일하게 작동하는지 검증하기 힘들다.

## 왜 리팩토링을 하는걸까
기능의 변화는 주지 않으면서 지금보다 가독성을 높이고 유지보수하기 쉬운 상태를 만들기 위해서 한다고 생각한다. 그리고 내가 아닌 다른 사람이 코드를 읽어도 이해하기 쉽게 만들기 위해서 하는 것 같다.

## 어떨 때 리팩토링을 해야 할까
### 1. Three Strike, 3번의 중복이 일어났을 때
무조건 리팩토링을 하는 게 아니라 어딘가에서 코드의 중복이 3번 이상 일어났다면 이건 리팩토링을 고려해보라는 신호이다.

### 2. 기능을 추가해야 할 때
지금 상태에서 새롭게 기능을 추가하기가 어려운 상황이라면 기능을 추가하기 전에 리팩토링을 통해 코드 유지보수가 쉽게 만들어야 한다.

## 리팩토링을 할 때 드는 의문
### 1. 어디부터 어디까지 해야 할까
리팩토링을 할 때 보통 회사마다 팀마다 다를텐데, 날 잡고 이 날은 리팩토링을 하는 날입니다 라고 정하는 곳도 있다고 들었다. 우선 나는 리팩토링을 할 때 많은 시간이 주어지지 않기 때문에 당시 내가 수정하거나 추가했던 코드 부분에 집중한다. 하지만 매번 리팩토링을 할 때마다 과연 어디까지 책임지고 해두고 끝내야 하는 걸까라는 의문에 아직 마땅한 방법이 생기진 않았다.

### 2. 어느 정도까지 하고 빠져나와야 할까
리팩토링을 해야할 부분은 많고 해야 하는 작업도 많기 때문에 많은 시간을 소비할 수가 없는 상황에선 과연 어느 정도까지 책임지고 나와야 하는걸까 하는 의문이 매번 생긴다. 이럴 때 그럴 듯 한 방법은 찾지 못했지만, 지금 내가 사용하는 방법은 지금보단 더 가독성을 높이고 유지보수가 쉬운 상태를 만들자고 생각하는 것이다. 제 3자의 입장에서 봤을 때 처음에 비해 조금 더 적은 비용이 들었다면 괜찮은 리팩토링이었다고 생각한다.

---

[^1] http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9791162242742
