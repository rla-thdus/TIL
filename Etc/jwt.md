# JWT
Json Web Tokenμ μ•½μλ΅ μΈμ¦μ— ν•„μ”ν• μ •λ³΄λ“¤μ„ μ•”νΈν™” μ‹ν‚¨ JSON ν† ν°μ„ λ§ν•λ‹¤. JWT ν† ν°μ„ HTTP Headerμ— μ‹¬μ–΄μ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹λ³„ν•λ” λ°©μ‹μ΄λ‹¤.
JWTλ” JSON λ°μ΄ν„°λ¥Ό Base64 URL-safe Encode λ¥Ό ν†µν•΄ μΈμ½”λ”©ν•μ—¬ μ§λ ¬ν™”ν• κ²ƒμ΄λ©°, ν† ν° λ‚΄λ¶€μ—λ” μ„λ³€μ΅° λ°©μ§€λ¥Ό μ„ν•΄ κ°μΈν‚¤λ¥Ό ν†µν• μ „μμ„λ…λ„ λ“¤μ–΄μλ‹¤.
λ”°λΌμ„ μ‚¬μ©μκ°€ JWT λ¥Ό μ„λ²„λ΅ μ „μ†΅ν•λ©΄ μ„λ²„λ” μ„λ…μ„ κ²€μ¦ν•λ” κ³Όμ •μ„ κ±°μΉκ² λλ©° κ²€μ¦μ΄ μ™„λ£λλ©΄ μ”μ²­ν• μ‘λ‹µμ„ λλ ¤μ¤€λ‹¤.

# κµ¬μ΅°
`.` μ„ κµ¬λ¶„μλ¥Ό ν†µν•΄ λ‚λ μ§€λ” μ„Έ λ¬Έμμ—΄μ μ΅°ν•©μ΄λ‹¤. `,` μ„ κΈ°μ¤€μΌλ΅ μ™Όμ½λ¶€ν„° Header, Payload, Signatureλ¥Ό μλ―Έν•λ‹¤.

### Header
```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

- alg : μ„λ… μ•”νΈν™” μ•κ³ λ¦¬μ¦μ΄λ‹¤.
- type : ν† ν° μ ν•μ„ λ‚νƒ€λ‚Έλ‹¤.

### Payload
```json
{
  "key": "value"
}
```

- μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ£Όκ³ λ°›λ” μ‹μ¤ν…μ—μ„ μ‹¤μ λ΅ μ‚¬μ©λ  μ •λ³΄μ— λ€ν• λ‚΄μ©μ΄ `key: value` λ΅ λ“¤μ–΄μλ‹¤.
- μ •ν•΄μ§„ νƒ€μ…μ€ μ—†μΌλ‚ λ€ν‘μ μΌλ΅ Registered, Public, Privateλ΅ λ‚λ‰λ‹¤.
  - Registered: λ―Έλ¦¬ μ •μ λ ν΄λ μ„μ΄λ‹¤.
    - iss(issuer, λ°ν–‰μ)
    - exp(expireation time, λ§λ£ μ‹κ°„)
    - sub(subject, μ λ©)
    - iat(issued At, λ°ν–‰ μ‹κ°„)
    - jti(JWI ID)
  - Public: μ‚¬μ©μκ°€ μ •μν•  μ μλ” ν΄λ μ„ κ³µκ°μ© μ •λ³΄ μ „λ‹¬μ„ μ„ν•΄ μ‚¬μ©ν•λ‹¤.
  - Private: ν•΄λ‹Ήν•λ” λ‹Ήμ‚¬μλ“¤ κ°„μ— μ •λ³΄λ¥Ό κ³µμ ν•κΈ° μ„ν•΄ λ§λ“¤μ–΄μ§„ μ‚¬μ©μ μ§€μ • ν΄λ μ„. μ™Έλ¶€μ— κ³µκ°λλ„ μƒκ΄€μ—†μ§€λ§ ν•΄λ‹Ή μ μ €λ¥Ό νΉμ •ν•  μ μλ” μ •λ³΄λ¥Ό λ‹΄λ”λ‹¤.

> π’΅claim μ€ key-value ν•μ‹μΌλ΅ μ΄λ£¨μ–΄μ§„ ν• μμ μ •λ³΄λ¥Ό λ»ν•λ‹¤.

### Signature
- ν—¤λ”μ™€ νμ΄λ΅λ“, μ„λ²„κ°€ κ°–κ³  μλ” μ μΌν• ν‚¤ κ°’μ„ ν•©μΉ κ²ƒμ„ ν—¤λ”μ—μ„ μ •μν• μ•κ³ λ¦¬μ¦μΌλ΅ μ•”νΈν™”λ¥Ό ν•λ‹¤.

# μ‚¬μ© μ©λ„
### κ¶ν• λ¶€μ—¬
μ‚¬μ©μκ°€ λ΅κ·ΈμΈν•λ©΄ κ° ν›„μ† μ”μ²­μ—λ” JWTκ°€ ν¬ν•¨λμ–΄ μ‚¬μ©μκ°€ ν•΄λ‹Ή ν† ν°μΌλ΅ ν—μ©λλ” κ²½λ΅, μ„λΉ„μ¤ λ° λ¦¬μ†μ¤μ— μ•΅μ„Έμ¤ν•  μ μλ‹¤.
ν•λ‚μ μ„λ…μ€ μ¤λ²„ν—¤λ“κ°€ μ κ³  μ—¬λ¬ λ„λ©”μΈμ—μ„ μ‰½κ² μ‚¬μ©ν•  μ μκΈ° λ•λ¬Έμ— μμ£Ό μ‚¬μ©λλ‹¤.

### μ •λ³΄ κµν™
μλ¥Ό λ“¤μ–΄ κ³µκ°/κ°μΈ ν‚¤ μμ„ μ‚¬μ©ν•μ—¬ JWTμ— μ„λ…ν•  μ μκΈ° λ•λ¬Έμ— λ°μ‹ μκ°€ λ„κµ¬μΈμ§€ ν™•μΈν•  μ μλ‹¤.
λν• ν—¤λ”μ™€ νμ΄λ΅λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ„λ…μ„ κ³„μ‚°ν•λ―€λ΅ μ½ν…μΈ κ°€ λ³€μ΅°λμ§€ μ•μ•λ”μ§€ ν™•μΈν•  μλ„ μλ‹¤.

# λ™μ‘ λ°©μ‹
1. μ‚¬μ©μκ°€ ID, PWλ¥Ό μ…λ ¥ν•μ—¬ μ„λ²„μ— λ΅κ·ΈμΈ μΈμ¦μ„ μ”μ²­ν•λ‹¤.
2. μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μΈμ¦ μ”μ²­μ„ λ°›μΌλ©΄ Header, PayLoad, Signatureλ¥Ό μ •μν•λ‹¤.
3. Hedaer, PayLoad, Signatureλ¥Ό κ°κ° Base64λ΅ ν• λ² λ” μ•”νΈν™”ν•μ—¬ JWTλ¥Ό μƒμ„±ν•κ³  μ΄λ¥Ό μΏ ν‚¤μ— λ‹΄μ•„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°κΈ‰ν•λ‹¤.
4. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„λ΅λ¶€ν„° λ°›μ€ JWTλ¥Ό λ΅μ»¬ μ¤ν† λ¦¬μ§€μ— μ €μ¥ν•λ‹¤. (μΏ ν‚¤λ‚ λ΅μ»¬/μ„Έμ… μ¤ν† λ¦¬μ§€, http μΏ ν‚¤ λ“± λ‹¤λ¥Έ κ³³μ— μ €μ¥ν•  μλ„ μμ)
5. APIλ¥Ό μ„λ²„μ— μ”μ²­ν• λ• Authorization headerμ— Access Tokenμ„ λ‹΄μ•„μ„ λ³΄λ‚Έλ‹¤.
6. μ„λ²„κ°€ ν•  μΌμ€ ν΄λΌμ΄μ–ΈνΈκ°€ Headerμ— λ‹΄μ•„μ„ λ³΄λ‚Έ JWTκ°€ λ‚΄ μ„λ²„μ—μ„ λ°ν–‰ν• ν† ν°μΈμ§€ μΌμΉ μ—¬λ¶€λ¥Ό ν™•μΈν•μ—¬ μΌμΉν•λ‹¤λ©΄ μΈμ¦μ„ ν†µκ³Όμ‹μΌμ£Όκ³  μ•„λ‹λΌλ©΄ ν†µκ³Όμ‹ν‚¤μ§€ μ•μΌλ©΄ λλ‹¤.
7. μΈμ¦μ΄ ν†µκ³Όλμ—μΌλ―€λ΅ νμ΄λ΅λ“μ— λ“¤μ–΄μλ” μ μ €μ μ •λ³΄λ“¤μ„ μ„ νƒν•΄μ„ ν΄λΌμ΄μ–ΈνΈμ— λλ ¤μ¤€λ‹¤.
8. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ”μ²­μ„ ν–λ”λ° μ•΅μ„Έμ¤ ν† ν°μ μ‹κ°„μ΄ λ§λ£λλ©΄ ν΄λΌμ΄μ–ΈνΈλ” λ¦¬ν”„λμ‹ ν† ν°μ„ μ΄μ©ν•΄μ„ μ„λ²„λ΅λ¶€ν„° μƒλ΅μ΄ μ—‘μ„Έμ¤ ν† ν°μ„ λ°κΈ‰ λ°›λ”λ‹¤.

# μ¥μ 
1. Headerμ™€ Payloadλ¥Ό κ°€μ§€κ³  Signatureλ¥Ό μƒμ„±ν•λ―€λ΅ λ°μ΄ν„° μ„λ³€μ΅°λ¥Ό λ§‰μ„ μ μλ‹¤.
2. μΈμ¦ μ •λ³΄μ— λ€ν• λ³„λ„μ μ €μ¥μ†κ°€ ν•„μ” μ—†λ‹¤.
3. JWTλ” ν† ν°μ— λ€ν• κΈ°λ³Έ μ •λ³΄μ™€ μ „λ‹¬ν•  μ •λ³΄ λ° ν† ν° κ²€μ¦μ„ μ¦λ…ν•λ” μ„λ… λ“± ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό μμ²΄μ μΌλ΅ μ§€λ‹κ³  μλ‹¤.
4. ν™•μ¥μ„±μ΄ μ°μν•λ‹¤.
5. ν† ν° κΈ°λ°μΌλ΅ λ‹¤λ¥Έ λ΅κ·ΈμΈ μ‹μ¤ν…μ— μ ‘κ·Ό λ° κ¶ν• κ³µμ κ°€ κ°€λ¥ν•λ‹¤.
6. OAuthμ κ²½μ° Facebook, Google λ“± μ†μ… κ³„μ •μ„ μ΄μ©ν•μ—¬ λ‹¤λ¥Έ μ›Ήμ„λΉ„μ¤μ—μ„λ„ λ΅κ·ΈμΈμ„ ν•  μ μλ‹¤.

---

[^1] https://jwt.io/introduction
